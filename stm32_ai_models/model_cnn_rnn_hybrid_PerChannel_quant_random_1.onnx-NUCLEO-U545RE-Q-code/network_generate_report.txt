ST Edge AI Core v3.0.0-20426 123672867
Created date          : 2026-01-22 15:45:20
Parameters            : generate --model /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/model_cnn_rnn_hybrid_PerChannel_quant_random_1.onnx --optimization time --target stm32f4 --name network --workspace /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/workspace --output /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output

Exec/report summary (generate)
---------------------------------------------------------------------------------------------------------------------------------------
model file         :   /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/model_cnn_rnn_hybrid_PerChannel_quant_random_1.onnx   
type               :   onnx                                                                                                            
c_name             :   network                                                                                                         
compression        :   lossless                                                                                                        
options            :   allocate-inputs, allocate-outputs, use-lite-runtime, use-st-ai                                                  
optimization       :   time                                                                                                            
target/series      :   stm32f4                                                                                                         
workspace dir      :   /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/workspace                                             
output dir         :   /tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output                                                
model_fmt          :   ss/sa per channel                                                                                               
model_name         :   model_cnn_rnn_hybrid_PerChannel_quant_random_1                                                                  
model_hash         :   0xb9a194e3e4e62f2afaf7589a7f0e6d96                                                                              
params #           :   373 items (1.46 KiB)                                                                                            
---------------------------------------------------------------------------------------------------------------------------------------
input 1/1          :   'input', int8(1x30x10), 300 Bytes, QLinear(0.003920826,-128,int8), activations                                  
output 1/1         :   'output_QuantizeLinear_Input', int8(1x1), 1 Bytes, QLinear(0.003122654,-128,int8), activations                  
macc               :   10,330                                                                                                          
weights (ro)       :   764 B (764 B) (1 segment) / -728(-48.8%) vs float model                                                         
activations (rw)   :   1,316 B (1.29 KiB) (1 segment) *                                                                                
ram (total)        :   1,316 B (1.29 KiB) = 1,316 + 0 + 0                                                                              
---------------------------------------------------------------------------------------------------------------------------------------
(*) 'input'/'output' buffers are allocated in the activations buffer

Model name - model_cnn_rnn_hybrid_PerChannel_quant_random_1
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
m_id   layer (type,original)                                            oshape                            param/size      macc                     connected to   | c_size         c_macc            c_type                                 
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
1      _Constant_1_output_0 (Placeholder, Gather)                       []                                1/4                                                     | -4(-100.0%)                      
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
0      input (Input, )                                                  [b:1,h:30,c:10]                                                                           |                                  
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
1      _Constant_11_output_0_const (Placeholder, DequantizeLinear)      [b:1]                             1/4                                                     | -4(-100.0%)                      
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
7      _Constant_output_0..tput_const (Placeholder, DequantizeLinear)   [b:1,c:3]                         3/12                                                    | -12(-100.0%)                     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
9      _Transpose_output_0 (Transpose, Transpose)                       [b:1,h:30,c:10]                                    150                            input   |                -150(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
10     _Transpose_output_..ear_Output (Conversion, QuantizeLinear)      [b:1,h:30,c:10]                                    600              _Transpose_output_0   |                -600(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
11     _Transpose_output_..ear_Output (Conversion, DequantizeLinear)    [b:1,h:30,c:10]                                    600   _Transpose_output_..ear_Output   |                -600(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
12     _Relu_output_0 (Conv2D, Conv)                                    [b:1,h:28,c:8]                    248/992        6,728   _Transpose_output_..ear_Output   | -720(-72.6%)   +448(+6.7%)       Conv2D_/Conversion_[0, 1]              
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
13     _Relu_output_0_Qua..ear_Output (Conversion, QuantizeLinear)      [b:1,h:28,c:8]                                     448                   _Relu_output_0   |                -448(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
14     _Relu_output_0_Deq..ear_Output (Conversion, DequantizeLinear)    [b:1,h:28,c:8]                                     448   _Relu_output_0_Qua..ear_Output   |                -448(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
15     _Transpose_1_output_0 (Transpose, Transpose)                     [b:1,h:8,c:28]                                     112   _Relu_output_0_Deq..ear_Output   |                -112(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
16     _Transpose_1_outpu..ear_Output (Conversion, QuantizeLinear)      [b:1,h:8,c:28]                                     448            _Transpose_1_output_0   |                -448(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
17     _Transpose_1_outpu..ear_Output (Conversion, DequantizeLinear)    [b:1,h:8,c:28]                                     448   _Transpose_1_outpu..ear_Output   |                -448(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
18     _GRU_output_0 (GRU, GRU)                                         [b:1,h:1,w:3,c:28][b:1,w:3,c:1]   120/480          840   _Transpose_1_outpu..ear_Output   |                +2,310(+275.0%)   GRU_/Conversion_/Transpose_[2, 3, 4]   
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
19     _GRU_output_0_Quan..ear_Output (Conversion, QuantizeLinear)      [b:1,h:1,w:3,c:28]                                 168                    _GRU_output_0   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
21     _GRU_output_0_Dequ..ear_Output (Conversion, DequantizeLinear)    [b:1,h:1,w:3,c:28]                                 168   _GRU_output_0_Quan..ear_Output   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
23     _Squeeze_output_0 (Reshape, Squeeze)                             [b:1,h:3,c:28]                                           _GRU_output_0_Dequ..ear_Output   |                                  
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
24     _Squeeze_output_0_..ear_Output (Conversion, QuantizeLinear)      [b:1,h:3,c:28]                                     168                _Squeeze_output_0   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
25     _Squeeze_output_0_..ear_Output (Conversion, DequantizeLinear)    [b:1,h:3,c:28]                                     168   _Squeeze_output_0_..ear_Output   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
26     _Transpose_2_output_0 (Transpose, Transpose)                     [b:1,h:3,c:28]                                      42   _Squeeze_output_0_..ear_Output   |                -42(-100.0%)      
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
27     _Transpose_2_outpu..ear_Output (Conversion, QuantizeLinear)      [b:1,h:3,c:28]                                     168            _Transpose_2_output_0   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
28     _Transpose_2_outpu..ear_Output (Conversion, DequantizeLinear)    [b:1,h:3,c:28]                                     168   _Transpose_2_outpu..ear_Output   |                -168(-100.0%)     
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
29     _Gather_1_output_0 (Gather, Gather)                              [b:1,c:3]                                                _Transpose_2_outpu..ear_Output   | +4(+100.0%)                      Gather_[5]                             
                                                                                                                                           _Constant_1_output_0   | 
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
30     _Gather_1_output_0..ear_Output (Conversion, QuantizeLinear)      [b:1,c:3]                                            6               _Gather_1_output_0   |                -6(-100.0%)       
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
31     _Gather_1_output_0..ear_Output (Conversion, DequantizeLinear)    [b:1,c:3]                                            6   _Gather_1_output_0..ear_Output   |                -6(-100.0%)       
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
32     output_QuantizeLinear_Input (Gemm, Gemm)                         [b:1,c:1]                                            4   _Gather_1_output_0..ear_Output   | +7(+100.0%)                      Dense_[o][6]                           
                                                                                                                                 _Constant_output_0..tput_const   | 
                                                                                                                                    _Constant_11_output_0_const   | 
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
33     output_QuantizeLinear_Output (Conversion, QuantizeLinear)        [b:1,c:1]                                            2      output_QuantizeLinear_Input   |                -2(-100.0%)       
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
34     output (Conversion, DequantizeLinear)                            [b:1,c:1]                                            2     output_QuantizeLinear_Output   |                -2(-100.0%)       
------ ---------------------------------------------------------------- --------------------------------- ------------ ------- -------------------------------- --- -------------- ----------------- -------------------------------------- 
model/c-model: macc=11,892/10,330 -1,562(-13.1%) weights=1,492/764 -728(-48.8%) activations=--/1,316 io=--/0



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : model_cnn_rnn_hybrid_PerChannel_quant_random_1
c-name                : network
c-node #              : 7
c-array #             : 21
activations size      : 1316 (1 segment)
weights size          : 764 (1 segment)
macc                  : 10330
inputs                : ['input_output']
outputs               : ['output_QuantizeLinear_Input_output']

C-Arrays (21)
------ ------------------------------------------------------------------- ----------- ------------------------- ------------- --------- 
c_id   name (*_array)                                                      item/size   domain/mem-pool           c-type        comment   
------ ------------------------------------------------------------------- ----------- ------------------------- ------------- --------- 
0      _Constant_1_output_0                                                1/4         weights/weights           const s32               
1      _GRU_output_0_0_0__GRU_output_0_out_0_transpose_conversion_output   84/84       activations/**default**   s8                      
2      _GRU_output_0_bias                                                  18/72       weights/weights           const float             
3      _GRU_output_0_initial_h                                             3/12        weights/weights           const float             
4      _GRU_output_0_kernel                                                72/288      weights/weights           const float             
5      _GRU_output_0_out_0_transpose_output                                84/84       activations/**default**   s8                      
6      _GRU_output_0_output0                                               84/336      activations/**default**   float                   
7      _GRU_output_0_output1                                               3/12        activations/**default**   float                   
8      _GRU_output_0_recurrent                                             27/108      weights/weights           const float             
9      _GRU_output_0_scratch0                                              18/72       activations/**default**   float                   
10     _Gather_1_output_0_output                                           3/3         activations/**default**   s8                      
11     _Relu_output_0_0_conversion_output                                  224/896     activations/**default**   float                   
12     _Relu_output_0_bias                                                 8/32        weights/weights           const s32               
13     _Relu_output_0_output                                               224/224     activations/**default**   s8                      
14     _Relu_output_0_scratch0                                             712/712     activations/**default**   s8                      
15     _Relu_output_0_weights                                              240/240     weights/weights           const s8                
16     input_output                                                        300/300     activations/**default**   s8            /input    
17     output_QuantizeLinear_Input_bias                                    1/4         weights/weights           const s32               
18     output_QuantizeLinear_Input_output                                  1/1         activations/**default**   s8            /output   
19     output_QuantizeLinear_Input_scratch0                                3/6         activations/**default**   s16                     
20     output_QuantizeLinear_Input_weights                                 3/3         weights/weights           const s8                
------ ------------------------------------------------------------------- ----------- ------------------------- ------------- --------- 

C-Layers (7)
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
c_id   name (*_layer)                                               id   layer_type    macc   rom   tensors                                                                shape (array id)      
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
0      _Relu_output_0                                               12   Conv2D        6728   272   I: input_output                                                        int8(1x30x10) (16)    
                                                                                                    S: _Relu_output_0_scratch0                                                                   
                                                                                                    W: _Relu_output_0_weights                                              int8(8x3x1x10) (15)   
                                                                                                    W: _Relu_output_0_bias                                                 int32(8) (12)         
                                                                                                    O: _Relu_output_0_output                                               int8(1x28x8) (13)     
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
1      _Relu_output_0_0_conversion                                  12   Conversion    448    0     I: _Relu_output_0_output                                               int8(1x28x8) (13)     
                                                                                                    O: _Relu_output_0_0_conversion_output                                  f32(1x28x8) (11)      
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
2      _GRU_output_0                                                18   GRU           2940   480   I: _Relu_output_0_0_conversion_output                                  f32(1x28x8) (11)      
                                                                                                    S: _GRU_output_0_scratch0                                                                    
                                                                                                    W: _GRU_output_0_kernel                                                f32(9x8) (4)          
                                                                                                    W: _GRU_output_0_recurrent                                             f32(9x3) (8)          
                                                                                                    W: _GRU_output_0_bias                                                  f32(18) (2)           
                                                                                                    W: _GRU_output_0_initial_h                                             f32(3) (3)            
                                                                                                    O: _GRU_output_0_output0                                               f32(1x28x1x3) (6)     
                                                                                                    O: _GRU_output_0_output1                                               f32(1x1x3) (7)        
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
3      _GRU_output_0_0_0__GRU_output_0_out_0_transpose_conversion   18   Conversion    168    0     I: _GRU_output_0_output0                                               f32(1x28x1x3) (6)     
                                                                                                    O: _GRU_output_0_0_0__GRU_output_0_out_0_transpose_conversion_output   int8(1x28x1x3) (1)    
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
4      _GRU_output_0_out_0_transpose                                18   Transpose     42     0     I: _GRU_output_0_0_0__GRU_output_0_out_0_transpose_conversion_output   int8(1x28x1x3) (1)    
                                                                                                    O: _GRU_output_0_out_0_transpose_output                                int8(1x1x3x28) (5)    
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
5      _Gather_1_output_0                                           29   Gather        0      4     I: _GRU_output_0_out_0_transpose_output                                int8(1x1x3x28) (5)    
                                                                                                    W: _Constant_1_output_0                                                int32(1) (0)          
                                                                                                    O: _Gather_1_output_0_output                                           int8(1x3) (10)        
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 
6      output_QuantizeLinear_Input                                  32   Dense         4      7     I: _Gather_1_output_0_output                                           int8(1x3) (10)        
                                                                                                    S: output_QuantizeLinear_Input_scratch0                                                      
                                                                                                    W: output_QuantizeLinear_Input_weights                                 int8(1x3) (20)        
                                                                                                    W: output_QuantizeLinear_Input_bias                                    int32(1) (17)         
                                                                                                    O: output_QuantizeLinear_Input_output                                  int8(1x1) (18)        
------ ------------------------------------------------------------ ---- ------------- ------ ----- ---------------------------------------------------------------------- --------------------- 



Number of operations per c-layer
------- ------ --------------------------------------------- -------- -------------- 
c_id    m_id   name (type)                                        #op           type 
------- ------ --------------------------------------------- -------- -------------- 
0       12     _Relu_output_0 (Conv2D)                          6,728     smul_s8_s8 
1       12     _Relu_output_0_0_conversion (Conversion)           448    smul_s8_f32 
2       18     _GRU_output_0 (GRU)                              2,940   smul_f32_f32 
3       18     _GRU_output_0_0_0_..conversion (Conversion)        168    smul_f32_s8 
4       18     _GRU_output_0_out_0_transpose (Transpose)           42     smul_s8_s8 
5       29     _Gather_1_output_0 (Gather)                          0    smul_s8_s32 
6       32     output_QuantizeLinear_Input (Dense)                  4     smul_s8_s8 
------- ------ --------------------------------------------- -------- -------------- 
total                                                          10,330 

Number of operation types
---------------- ------- ----------- 
operation type         #           % 
---------------- ------- ----------- 
smul_s8_s8         6,774       65.6% 
smul_s8_f32          448        4.3% 
smul_f32_f32       2,940       28.5% 
smul_f32_s8          168        1.6% 
smul_s8_s32            0        0.0% 

Complexity report (model)
------ ----------------------------- ------------------------- ------------------------- ----------- 
m_id   name                          c_macc                    c_rom                     c_id        
------ ----------------------------- ------------------------- ------------------------- ----------- 
12     _Relu_output_0                ||||||||||||||||  69.5%   |||||||||         35.6%   [0, 1]      
18     _GRU_output_0                 |||||||           30.5%   ||||||||||||||||  62.8%   [2, 3, 4]   
29     _Gather_1_output_0            |                  0.0%   |                  0.5%   [5]         
32     output_QuantizeLinear_Input   |                  0.0%   |                  0.9%   [6]         
------ ----------------------------- ------------------------- ------------------------- ----------- 
macc=10,330 weights=764 act=1,316 ram_io=0
 
 Requested memory size by section - "stm32f4" target
 ------------------------------ -------- -------- ------- ------- 
 module                             text   rodata    data     bss 
 ------------------------------ -------- -------- ------- ------- 
 NetworkRuntime1100_CM4_GCC.a     18,516        0       0       0 
 network.o                         1,554      143   1,356      16 
 lib (toolchain)*                  3,476       24       0       0 
 ------------------------------ -------- -------- ------- ------- 
 RT total**                       23,546      167   1,356      16 
 ------------------------------ -------- -------- ------- ------- 
 weights                               0      768       0       0 
 activations                           0        0       0   1,316 
 states                                0        0       0       0 
 io                                    0        0       0       0 
 ------------------------------ -------- -------- ------- ------- 
 TOTAL                            23,546      935   1,356   1,332 
 ------------------------------ -------- -------- ------- ------- 
 *  toolchain objects (libm/libgcc*)
 ** RT AI runtime objects (kernels+infrastructure)
  
  Summary - "stm32f4" target
  ---------------------------------------------------
               FLASH (ro)      %*   RAM (rw)       % 
  ---------------------------------------------------
  RT total         25,069   97.0%      1,372   51.0% 
  ---------------------------------------------------
  TOTAL            25,837              2,688         
  ---------------------------------------------------
  *  rt/total


Generated files (5)
------------------------------------------------------------------------------------ 
/tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output/network_data.h      
/tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output/network_data.c      
/tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output/network.h           
/tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output/network.c           
/tmp/stm32ai_service/3c980a60-f282-485d-932e-38e787b6b5b0/output/network_details.h   
